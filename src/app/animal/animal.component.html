<app-spinner *ngIf="spinnerVariable"></app-spinner>
<p-messages
  [(value)]="messages"
  [enableService]="false"
  [closable]="false"
></p-messages>
<form [formGroup]="form" autocomplete="nope" *ngIf="formularioVariable">
  <div *ngIf="Seleccion">
    <div class="text-center">
      <div class="text-center p-3 border-round-sm font-bold">
        <button class="boton-redondo">
          <img
            src="https://cdn-icons-png.flaticon.com/512/4496/4496184.png"
            alt="Imagen del botón"
          />
        </button>
      </div>

      <div>
        <h2>Visualizar Animal</h2>
      </div>
    </div>
    <div class="grid">
      <div class="col-12 md:col-3"></div>
      <div class="col-12 md:col-6">
        <div class="p-3 h-full">
          <div
            class="shadow-2 p-3 h-full flex flex-column surface-card"
            style="border-radius: 6px"
          >
            <div
              class="text-900 font-medium text-xl mb-2 font-bold text-blue-600"
            >
              Seleccionar Potrero
            </div>
            <p-dropdown
              [options]="seleccionarPotrero"
              formControlName="potreroVisualizar"
              optionLabel="nombrePotrero"
              class="w-full mb-3"
              onchange=""
              placeholder="Seleccione"
              (onChange)="listarAnimales()"
            >
            </p-dropdown>
          </div>
        </div>
      </div>
      <div class="text-center"></div>
      <div class="col-12 md:col-3"></div>
    </div>
  </div>
  <div class="contenedor-p-table" *ngIf="Tabla">
    <p-table
      [value]="seleccionarAnimalesVisualizar"
      [paginator]="true"
      [rows]="4"
      [scrollable]="true"
      *ngIf="Seleccion"
    >
      <ng-template pTemplate="caption">
        <div class="flex align-items-center justify-content-between">
          Listado de Animales
        </div>
      </ng-template>
      <ng-template pTemplate="header" let-columns>
        <tr>
          <th></th>
          <th>Nombre Animal</th>
          <th>Fecha, Nacimiento</th>
          <th>N° Cotral</th>
          <th>Raza</th>
          <th>Eliminar</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-product>
        <tr>
          <td>
            <button class="boton-redondo" [disabled]="true">
              <img
                src="https://cdn.icon-icons.com/icons2/1465/PNG/512/455cowface_100996.png"
                alt="Imagen del botón"
              />
            </button>
          </td>
          <td>
            {{ product.nombreAnimal }}
          </td>
          <td>
            {{ product.fechaNacimiento }}
          </td>
          <td>
            {{ product.numeroCrotal }}
          </td>
          <td>
            {{ product.raza.nombreRaza }}
          </td>
          <td>
            <button
              pButton
              pRipple
              type="button"
              icon="pi pi-times"
              class="p-button-rounded p-button-danger"
              (click)="eliminarAnimal(product.numeroCrotal)"
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  <div *ngIf="Seleccion">
    <div class="text-center">
      <br />
    </div>
    <div>
      <br />
      <div class="field text-center">
        <label for="firstname1">¿Desea Crear un Nuevo Animal?</label>
      </div>

      <div class="flex justify-content-center flex-wrap">
        <div
          class="flex align-items-center justify-content-center font-bold border-round m-2"
        >
          <div
            class="flex align-items-center justify-content-center font-bold border-round m-2"
          >
            <button
              pButton
              pRipple
              type="button"
              label="Volver"
              class="p-button-outlined"
              routerLink="/botones"
              [disabled]="boton"
            ></button>
          </div>
          <div
            class="flex align-items-center justify-content-center font-bold border-round m-2"
          >
            <button
              pButton
              pRipple
              type="button"
              label="Crear"
              class="p-button-outlined p-button-success"
              (click)="validarStpe(6)"
              [disabled]="boton"
            ></button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="stpe6">
    <div class="text-center">
      <div class="text-center p-3 border-round-sm font-bold">
        <button class="boton-redondo">
          <img
            src="https://cdn-icons-png.flaticon.com/512/4496/4496184.png"
            alt="Imagen del botón"
          />
        </button>
      </div>

      <div>
        <h2>Registrar Animal</h2>
      </div>
    </div>
    <div>
      <div class="grid">
        <div class="col-12 md:col-3"></div>
        <div class="col-12 md:col-6">
          <div class="p-3 h-full">
            <div
              class="shadow-2 p-3 h-full flex flex-column surface-card"
              style="border-radius: 6px"
            >
              <div
                class="text-900 font-medium text-xl mb-2 font-bold text-blue-600"
              >
                Potrero
              </div>
              <p-dropdown
                [options]="seleccionarPotrero"
                formControlName="potrero"
                optionLabel="nombrePotrero"
                class="w-full mb-3"
                onchange=""
                placeholder="Seleccione"
                (onChange)="validarCampos()"
              >
              </p-dropdown>
              <div
                class="text-900 font-medium text-xl mb-2 font-bold text-blue-600"
              >
                Raza
              </div>
              <p-dropdown
                [options]="raza"
                formControlName="raza"
                optionLabel="nombreRaza"
                class="w-full mb-3"
                placeholder="Seleccione"
              >
              </p-dropdown>
              <div
                class="text-900 font-medium text-xl mb-2 font-bold text-blue-600"
              >
                Nombre Animal
              </div>
              <input
                id="lastname1"
                maxlength="100"
                type="text"
                class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"
                formControlName="nombreAnimal"
                onkeypress="return (event.charCode >= 65 && event.charCode <= 122 || event.charCode == 32)"
              />
              <br />
              <div
                class="text-900 font-medium text-xl mb-2 font-bold text-blue-600"
              >
                Número Cotral
              </div>
              <input
                id="lastname1"
                maxlength="15"
                type="text"
                class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"
                formControlName="numeroCrotal"
                onkeypress="return (event.charCode >= 48 && event.charCode <= 57)"
              />
              <br />
              <div
                class="text-900 font-medium text-xl mb-2 font-bold text-blue-600"
              >
                Fecha de Nacimiento
              </div>
              <p-calendar
                formControlName="fechaNacimiento"
                (onSelect)="validaFechaNacimiento()"
              ></p-calendar>
              <br />
              <div
                class="text-900 font-medium text-xl mb-2 font-bold text-blue-600"
              >
                Número de Partos
              </div>
              <input
                id="lastname1"
                maxlength="10"
                type="text"
                class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"
                formControlName="numeroPartos"
                onkeypress="return (event.charCode >= 48 && event.charCode <= 57)"
                maxlength="1"
              />
              <br />
              <div class="flex justify-content-center flex-wrap">
                <div
                  class="flex align-items-center justify-content-center font-bold border-round m-2"
                >
                  <button
                    pButton
                    pRipple
                    type="button"
                    label="Cancelar"
                    class="p-button-outlined"
                    (click)="validarStpe(1)"
                    [disabled]="boton"
                  ></button>
                </div>
                <div
                  class="flex align-items-center justify-content-center font-bold border-round m-2"
                  *ngIf="botonCrear"
                >
                  <button
                    pButton
                    pRipple
                    type="button"
                    label="Crear"
                    class="p-button-outlined p-button-success"
                    (click)="crearAnimal()"
                    [disabled]="boton"
                  ></button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-12 md:col-3"></div>
      </div>
    </div>
  </div>
  <br />
  <app-footer></app-footer>
</form>
